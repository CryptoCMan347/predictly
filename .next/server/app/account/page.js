(()=>{var e={};e.id=346,e.ids=[346],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14170:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(36147),s(70128),s(35866);var r=s(23191),a=s(88716),l=s(37922),n=s.n(l),o=s(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let d=["",{children:["account",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,36147)),"C:\\Users\\Christian Domingues\\cursor_projects\\Predictly\\src\\app\\account\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,70128)),"C:\\Users\\Christian Domingues\\cursor_projects\\Predictly\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Christian Domingues\\cursor_projects\\Predictly\\src\\app\\account\\page.tsx"],u="/account/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/account/page",pathname:"/account",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},64510:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},33371:(e,t,s)=>{Promise.resolve().then(s.bind(s,95560))},35606:(e,t,s)=>{Promise.resolve().then(s.bind(s,63808)),Promise.resolve().then(s.bind(s,54453))},95560:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(10326),a=s(17577),l=s(77109);function n(){let{data:e,update:t}=(0,l.useSession)(),[s,n]=(0,a.useState)(e?.user?.username||""),[o,i]=(0,a.useState)(e?.user?.email||""),[d,c]=(0,a.useState)(""),[u,x]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1),[j,y]=(0,a.useState)(null),[w,v]=(0,a.useState)(!1),[N,P]=(0,a.useState)(null),[C,k]=(0,a.useState)([]),[S,_]=(0,a.useState)(!1),[U,D]=(0,a.useState)(null),[F,T]=(0,a.useState)(0),[$,q]=(0,a.useState)(!1),[R,A]=(0,a.useState)(!1),E=async()=>{v(!0),P(null);try{let e=await fetch("/api/referral",{method:"POST"}),t=await e.json();e.ok&&t.code?y(t.code):P(t.error||"Failed to generate referral code.")}catch(e){P("Failed to generate referral code.")}finally{v(!1)}},I=encodeURIComponent("Join me on Predictly and earn bonus credits! Sign up with my referral link:"),L=()=>j?`${window.location.origin}/auth/signup?ref=${j}`:"",O=e=>{let t=L();if(!t)return;let s="";"twitter"===e?s=`https://twitter.com/intent/tweet?text=${I}%20${encodeURIComponent(t)}`:"facebook"===e?s=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`:"whatsapp"===e&&(s=`https://wa.me/?text=${I}%20${encodeURIComponent(t)}`),window.open(s,"_blank","noopener,noreferrer")},G=async e=>{e.preventDefault(),f(!0),b(""),h("");let r=await fetch("/api/account/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,email:o,currentPassword:d,newPassword:u})});f(!1),r.ok?(h("Profile updated!"),t(),c(""),x("")):b((await r.json()).error||"Update failed.")};return r.jsx("main",{className:"min-h-screen bg-black text-white py-8 px-4",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[e?.user&&r.jsx("section",{className:"mb-6 p-4 rounded-lg bg-gray-800 text-green-200 flex flex-col md:flex-row md:items-center md:justify-between shadow",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"font-bold text-lg",children:["Welcome, ",e.user.username||e.user.name||e.user.email,"!"]}),(0,r.jsxs)("div",{className:"text-sm text-gray-300",children:["Email: ",e.user.email]}),(0,r.jsxs)("div",{className:"text-sm text-gray-300",children:["Pro Status: ",e.user.pro_status?"Pro":"Free"]}),(0,r.jsxs)("div",{className:"text-sm text-gray-300",children:["Credits: ",e.user.credits??0]})]})}),r.jsx("h1",{className:"text-4xl font-extrabold mb-8 text-center",children:"\uD83D\uDC64 Account Dashboard"}),e?.user&&(0,r.jsxs)("form",{onSubmit:G,className:"bg-gray-900 p-6 rounded-lg shadow mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Edit Profile"}),r.jsx("label",{className:"block mb-2 text-gray-300",htmlFor:"username",children:"Username"}),r.jsx("input",{id:"username",type:"text",value:s,onChange:e=>n(e.target.value),className:"w-full mb-4 p-2 rounded bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-green-400",required:!0}),r.jsx("label",{className:"block mb-2 text-gray-300",htmlFor:"email",children:"Email"}),r.jsx("input",{id:"email",type:"email",value:o,onChange:e=>i(e.target.value),className:"w-full mb-4 p-2 rounded bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-green-400",required:!0}),r.jsx("label",{className:"block mb-2 text-gray-300",htmlFor:"currentPassword",children:"Current Password (required to change email or password)"}),r.jsx("input",{id:"currentPassword",type:"password",value:d,onChange:e=>c(e.target.value),className:"w-full mb-4 p-2 rounded bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"}),r.jsx("label",{className:"block mb-2 text-gray-300",htmlFor:"newPassword",children:"New Password (leave blank to keep current)"}),r.jsx("input",{id:"newPassword",type:"password",value:u,onChange:e=>x(e.target.value),className:"w-full mb-4 p-2 rounded bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"}),g&&r.jsx("div",{className:"text-red-400 mb-4 text-sm",children:g}),m&&r.jsx("div",{className:"text-green-400 mb-4 text-sm",children:m}),r.jsx("button",{type:"submit",className:"w-full bg-green-500 hover:bg-green-400 text-black font-bold py-2 px-4 rounded-full text-lg shadow transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-green-300 mb-4 disabled:opacity-60",disabled:p,children:p?"Updating...":"Update Profile"})]}),(0,r.jsxs)("section",{className:"mb-8 bg-gray-900 rounded-lg p-6 shadow flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-lg text-gray-400",children:"Total Credits"}),r.jsx("div",{className:"text-3xl font-bold text-green-400",children:"1,200"})]}),r.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-300 text-black font-bold py-2 px-6 rounded-full text-lg shadow transition-all duration-200",children:"Withdraw (Crypto)"})]}),(0,r.jsxs)("section",{className:"mb-8 bg-gray-900 rounded-lg p-6 shadow",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Purchase History"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"mb-2 flex justify-between bg-gray-800 rounded p-2",children:[r.jsx("span",{children:"+500 creds"}),r.jsx("span",{className:"text-gray-400",children:"2024-06-01"})]}),(0,r.jsxs)("li",{className:"mb-2 flex justify-between bg-gray-800 rounded p-2",children:[r.jsx("span",{children:"+700 creds"}),r.jsx("span",{className:"text-gray-400",children:"2024-05-20"})]})]})]}),(0,r.jsxs)("section",{className:"mb-8 bg-gradient-to-r from-yellow-500 via-yellow-300 to-yellow-500 rounded-lg p-6 shadow text-black text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Upgrade to Pro"}),r.jsx("p",{className:"mb-4",children:"Unlock exclusive contests, bigger prizes, and leaderboard access."}),r.jsx("button",{className:"bg-black hover:bg-gray-800 text-yellow-300 font-bold py-2 px-8 rounded-full text-lg shadow transition-all duration-200",children:"Upgrade Now"})]}),(0,r.jsxs)("section",{className:"mb-8 bg-gray-900 rounded-lg p-6 shadow",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Referral Codes & Bonuses"}),r.jsx("div",{className:"flex items-center gap-4 mb-2",children:w?r.jsx("span",{className:"text-lg",children:"Loading..."}):j?(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"bg-gray-800 px-4 py-2 rounded text-green-400 font-mono",children:j}),r.jsx("button",{onClick:()=>{j&&(navigator.clipboard.writeText(j),q(!0),setTimeout(()=>q(!1),1500))},className:"bg-green-500 hover:bg-green-400 text-black font-bold py-1 px-4 rounded-full text-sm",children:$?"Copied!":"Copy Code"}),r.jsx("button",{onClick:()=>{if(j){let e=`${window.location.origin}/auth/signup?ref=${j}`;navigator.clipboard.writeText(e),A(!0),setTimeout(()=>A(!1),1500)}},className:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-1 px-4 rounded-full text-sm",children:R?"Copied!":"Copy Invite Link"}),r.jsx("button",{onClick:()=>O("twitter"),className:"bg-[#1DA1F2] hover:bg-blue-400 text-white font-bold py-1 px-3 rounded-full text-sm",title:"Share on X",children:"Share on X"})]}):N?null:r.jsx("button",{className:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-6 rounded-full text-lg shadow transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:opacity-60",onClick:E,disabled:w,children:"Generate Referral Code"})}),!j&&N&&r.jsx("div",{className:"text-red-400 mt-2 text-sm",children:N}),r.jsx("div",{className:"mt-2 text-gray-400 text-sm",children:"Share your code to earn bonus credits!"}),(0,r.jsxs)("div",{className:"mt-2 text-green-300 text-sm",children:["Total bonus credits earned: ",r.jsx("span",{className:"font-bold",children:F})]})]}),(0,r.jsxs)("section",{className:"mb-8 bg-gray-900 rounded-lg p-6 shadow",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Users You Referred"}),S?r.jsx("div",{children:"Loading..."}):U?r.jsx("div",{className:"text-red-400",children:U}):0===C.length?r.jsx("div",{className:"text-gray-400",children:"You haven't referred any users yet."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-2 text-green-400 font-semibold",children:["Total referred: ",C.length]}),r.jsx("ul",{children:C.map(e=>(0,r.jsxs)("li",{className:"mb-2 bg-gray-800 rounded p-2 flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsx("span",{className:"font-mono text-yellow-300",children:e.username||e.email}),(0,r.jsxs)("span",{className:"text-gray-400 text-xs ml-2",children:["Joined: ",new Date(e.created_at).toLocaleDateString()]})]},e.id))})]})]}),(0,r.jsxs)("section",{className:"mb-8 bg-gray-900 rounded-lg p-6 shadow",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Support & Contact"}),r.jsx("p",{className:"mb-2",children:"Need help? Reach out to our support team:"}),r.jsx("a",{href:"mailto:support@predictly.com",className:"text-green-400 underline",children:"support@predictly.com"})]})]})})}},63808:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(10326),a=s(77109);function l({children:e}){return r.jsx(a.SessionProvider,{children:e})}s(17577)},54453:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var r=s(10326),a=s(17577),l=s(90434),n=s(35047),o=s(77109);let i=[{href:"/",label:"Home"},{href:"/dashboard",label:"Dashboard"},{href:"/contest/1",label:"Contests"},{href:"/leaderboard",label:"Leaderboard"},{href:"/account",label:"Account"}],d=()=>{let e=(0,n.usePathname)(),[t,s]=(0,a.useState)(!1),{data:d}=(0,o.useSession)(),c=t=>"/"===t?"/"===e:e.startsWith(t);return r.jsx("nav",{className:"bg-black border-b border-gray-800 py-4 px-6 shadow-lg sticky top-0 z-50",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[r.jsx(l.default,{href:"/",className:"text-2xl font-extrabold text-green-400 tracking-tight hover:text-green-300 transition",children:"Predictly"}),r.jsx("button",{className:"md:hidden text-gray-200 text-3xl focus:outline-none","aria-label":"Toggle menu",onClick:()=>s(e=>!e),children:t?"✖":"☰"}),(0,r.jsxs)("ul",{className:`flex-col md:flex-row md:flex gap-6 items-center absolute md:static top-16 left-0 w-full md:w-auto bg-black md:bg-transparent transition-all duration-300 ${t?"flex":"hidden md:flex"}`,children:[i.map(e=>r.jsx("li",{children:r.jsx(l.default,{href:e.href,className:`text-lg font-semibold transition px-2 py-1 rounded ${c(e.href)?"text-yellow-400 bg-gray-800 shadow":"text-gray-200 hover:text-yellow-400"}`,onClick:()=>s(!1),children:e.label})},e.href)),d?(0,r.jsxs)(r.Fragment,{children:[r.jsx("li",{children:(0,r.jsxs)(l.default,{href:"/my-credits",className:"text-lg text-green-300 font-bold hover:underline px-2",children:["My Credits: ",d.user.credits??0]})}),r.jsx("li",{className:"ml-4",children:r.jsx("div",{className:"w-9 h-9 bg-gray-700 rounded-full flex items-center justify-center text-xl text-green-300 border-2 border-green-500 shadow-inner cursor-pointer",title:d.user?.email||"User Profile",children:d.user?.image?r.jsx("img",{src:d.user.image,alt:"avatar",className:"w-9 h-9 rounded-full"}):r.jsx("span",{role:"img","aria-label":"User",children:"\uD83D\uDC64"})})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>(0,o.signOut)({callbackUrl:"/"}),className:"text-lg text-red-400 font-bold hover:underline ml-2",children:"Log Out"})})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("li",{children:r.jsx(l.default,{href:"/auth/signin",className:"text-lg text-green-400 font-bold hover:underline",onClick:()=>s(!1),children:"Sign In"})}),r.jsx("li",{children:r.jsx(l.default,{href:"/auth/signup",className:"text-lg text-yellow-400 font-bold hover:underline",onClick:()=>s(!1),children:"Sign Up"})})]})]})]})})}},36147:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\Users\Christian Domingues\cursor_projects\Predictly\src\app\account\page.tsx#default`)},70128:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>o});var r=s(19510);s(5023);var a=s(68570);let l=(0,a.createProxy)(String.raw`C:\Users\Christian Domingues\cursor_projects\Predictly\src\components\NavBar.tsx#default`),n=(0,a.createProxy)(String.raw`C:\Users\Christian Domingues\cursor_projects\Predictly\src\components\ClientSessionProvider.tsx#default`),o={title:"Predictly - Skill-Based Prediction Platform",description:"Monetize your knowledge through PvP predictions"};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:(0,r.jsxs)(n,{children:[r.jsx(l,{}),e]})})})}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,250],()=>s(14170));module.exports=r})();